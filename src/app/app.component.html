<p-toast></p-toast>
<div class="container">
  <section class="header">
    <span (click)="incrementDate(-1)">
      <span class="iconify increment-date-button" data-icon="eva:arrow-ios-back-fill" data-inline="false"></span>
    </span>
    <span class="date">{{ date | date: 'MMMM d, yyyy' }}</span>
    <span (click)="incrementDate()">
      <span class="iconify increment-date-button" data-icon="eva:arrow-ios-forward-fill" data-inline="false"></span>
    </span>
  </section>
  <section class="add-todo-form">
    <form (ngSubmit)="addTodo()" #form="ngForm">
      <input name="todoToAdd" [(ngModel)]="todoToAdd" placeholder="Type your task and press enter..." />
    </form>
  </section>
  <section class="todo-list">
    <ul>
      <li (click)="toggleTodoStatusChange(todo)" [ngClass]="{ done: todo.done }" class="todo" *ngFor="let todo of todos; let index = index">
        <p-checkbox (onChange)="toggleTodoStatusChange(todo)" class="todo-done" [(ngModel)]="todo.done" [binary]="true"></p-checkbox>
        <span class="todo-title">{{ todo.title }}</span>
        <span class="todo-time">{{ todo.createdAt | date: 'HH:mm a' }}</span>
        <span class="todo-actions">
          <span title="delete" (click)="deleteTodo($event, index)">
            <span class="iconify todo-action todo-delete-action" data-icon="iwwa:delete" data-inline="false"></span>
          </span>
          <span title="edit" (click)="editTodo($event, todo, index)">
            <span class="iconify todo-action" data-icon="eva:edit-2-fill" data-inline="false"></span>
          </span>
        </span>
      </li>
    </ul>
    <p class="design-inspiration">
      Design inspired from <a target="blank" href="https://dribbble.com/shots/2400033-ToDo-List-Day-042-dailui">Ennio Dybeli</a>
    </p>
  </section>
</div>

<app-edit-todo-dialog
  (save)="saveEditToto()"
  (cancel)="cancelEditToto()"
  [visible]="displayTodoEditDialog"
  [todo]="todoToEdit"
></app-edit-todo-dialog>
